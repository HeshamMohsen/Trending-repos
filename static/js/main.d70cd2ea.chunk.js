(this["webpackJsonptrending-repos"]=this["webpackJsonptrending-repos"]||[]).push([[0],{16:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(1),s=r.n(n),c=r(7),i=r.n(c),o=r(5),l=r(2),d=r.p+"static/media/logo.dcfd38a3.png";var u=function(){return Object(a.jsxs)("header",{className:"d-flex justify-content-start align-items-center p-3 mb-2 bg-warning",children:[Object(a.jsx)("img",{src:d,alt:"majalspace"}),Object(a.jsx)("span",{className:"mx-3 text-primary",children:"Trending Repos"})]})};var j=function(e){var t=e.value,r=e.onFilter,n=e.showStarred,s=e.filterStarred;return Object(a.jsxs)("div",{className:"d-flex justify-content-start align-items-center",children:[Object(a.jsx)("input",{className:"form-control form-control-lg m-3 w-75",type:"text",placeholder:"search...",value:t,onChange:r}),Object(a.jsx)("button",{className:"btn ".concat(n?"btn-secondary":"btn-primary"),onClick:s,children:"Starred Repos"})]})},b=s.a.memo((function(e){var t=e.repo,r=e.starred,n=e.starRepoHandler;return Object(a.jsx)("button",{className:"btn btn-secondary",onClick:function(){return n(t,r)},children:r?"starred":"star"})}));var p=function(e){var t=e.repo,r=e.starred,n=e.starRepoHandler;return Object(a.jsx)("div",{className:"card w-75 m-3",children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",children:t.name}),Object(a.jsx)("p",{className:"card-text",children:t.description}),Object(a.jsxs)("span",{className:"badge badge-light mr-2 p-3",children:[" stars: ",t.stargazers_count]}),Object(a.jsx)("a",{href:t.html_url,rel:"noreferrer",target:"_blank",className:"badge badge-light mr-2 p-3",children:"github url"}),Object(a.jsx)(b,{starred:r,repo:t,starRepoHandler:n})]})})};var f=function(e){var t=e.repos,r=e.starredRepos,n=e.starRepoHandler;return t.map((function(e){return Object(a.jsx)(p,{repo:e,starred:!!r.find((function(t){return t.id===e.id})),starRepoHandler:n},e.id)}))},m=r(8),O=r.n(m)()().subtract(7,"d").format("YYYY-MM-DD"),g="https://api.github.com/search/repositories?q=created:>".concat(O,"&sort=stars&order=desc");var h=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),r=t[0],s=t[1],c=Object(n.useState)(!1),i=Object(l.a)(c,2),d=i[0],b=i[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),O=m[0],h=m[1],x=Object(n.useState)([]),v=Object(l.a)(x,2),S=v[0],N=v[1],R=Object(n.useState)(""),y=Object(l.a)(R,2),J=y[0],w=y[1],I=Object(n.useState)(!1),k=Object(l.a)(I,2),H=k[0],C=k[1];Object(n.useEffect)((function(){b(!0),fetch(g).then((function(e){return e.json()})).then((function(e){s(e.items),N(e.items),b(!1)}))}),[]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("starredRepos"));e?h(e):localStorage.setItem("starredRepos",JSON.stringify([]))}),[]);var F=Object(n.useCallback)((function(e,t){if(t){h((function(t){return Object(o.a)(t).filter((function(t){return t.id!==e.id}))}));var r=JSON.parse(localStorage.getItem("starredRepos")).filter((function(t){return t.id!==e.id}));localStorage.setItem("starredRepos",JSON.stringify(r))}else{h((function(t){return[].concat(Object(o.a)(t),[e])}));var a=JSON.parse(localStorage.getItem("starredRepos"));localStorage.setItem("starredRepos",JSON.stringify([].concat(Object(o.a)(a),[e])))}}),[h]);return d||!r?Object(a.jsx)("p",{className:"text-center p-3 m-3",children:"Fetching trending repos..."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(u,{}),Object(a.jsx)(j,{value:J,onFilter:function(e){w(e.target.value),N(H?O.filter((function(t){return t.name.includes(e.target.value)})):r.filter((function(t){return t.name.includes(e.target.value)})))},showStarred:H,filterStarred:function(){N(H?r:r.filter((function(e){return O.find((function(t){return t.id===e.id}))}))),C(!H)}}),Object(a.jsx)(f,{repos:S,starredRepos:O,starRepoHandler:F})]})};r(15);i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(h,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.d70cd2ea.chunk.js.map